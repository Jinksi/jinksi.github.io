---
title: How I built this blog using Node.js
publishDate: 2015-10-05
author: Eric Jinks
layout: post.jade
---
###### Why Node.js?
My site was in need of an update. At the same time, I wanted to get my hands dirty with JavaScript.

Initially, I intended to run the site as dynamic content, using Node.js & [Express](http://expressjs.com) as the backend server. But I instead went for using Node.js as a static site generator, spitting out html pages that I can then push to a simple server (i.e. [Github Pages](http://pages.github.com)).
***
###### The Options
After a bit of research, I came across bunch of blog-ready static site generators for Node.js (see [StaticGen](https://www.staticgen.com/)).
- [Poet](http://jsantell.github.io/poet/)
- [DocPad](http://docpad.org/)
- [Wintersmith](http://wintersmith.io/)
- [Metalsmith](http://www.metalsmith.io/)

I decided on Metalsmith, due to the bare-bones structure and the flexibility of it's optional plugins.
***
###### How It Works?
Installation is simple. Assuming you have [Node.js](http://nodejs.org) and [npm](http://npmjs.com) installed, you choose a directory and navigate to it in terminal.

    npm install metalsmith --save

This will install Metalsmith and it's dependencies in the `node_modules` directory. It also creates a `package.json` file containing the required npm packages for this project.

You then create an app file in the root directory that will contain the Metalsmith logic. I called it `build.js`. To get started, this file contains the following:

    var Metalsmith = require('metalsmith');

    Metalsmith(__dirname)
      .source('./src')
      .destination('./build')
      .build(function(err){
        if (err){
          console.log(err);
        } else {
          console.log('Site build complete!');
        }
      });

Now, when you run the terminal command `node build`, Metalsmith will grab the source directory, run it through any plugins (which there are none at this stage) and spit it out at the build directory.

This is what my project directory looks like:

    /project_dir
    |-/node_modules
    |-/build
    |-/layouts
      |-/partials
        |-_head.jade
      |-blog.jade
      |-layout.jade
      |-page.jade
      |-post.jade
    |-/src
      |-/fonts
      |-/images
      |-/js
      |-/posts
        |-creating-this-site.md
      |-/scss
        |-_normalize.scss
        |-style.scss
      |-404.md
      |-blog.md
      |-index.md
    |-build.js
    |-package.json


###### What Went Wrong?

- Xcode installation: node-sass

###### What Next?

- Tags.
